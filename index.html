<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<title>ضرب عدد در بردار</title>
<style>
  body {
    background-color: #e6f0ff;
    text-align: center;
    font-family: 'Vazir', sans-serif;
    direction: rtl;
    font-weight: bold;
  }
  canvas {
    border: 1px solid #ccc;
    background-color: #f8fbff;
  }
  label, button {
    font-size: 18px;
    font-weight: bold;
  }
  input {
    font-size: 16px;
    text-align: center;
  }
  #result {
    margin-top: 10px;
    font-size: 20px;
  }
</style>
</head>
<body>
  <h2>ضرب عدد در بردار</h2>
  <canvas id="vectorCanvas" width="500" height="400"></canvas>
  <div>
    <p>مختصات بردار را وارد کن، ضریب را تعیین کن و ببین بردار چگونه تغییر می‌کند. مختصات را وارد کنید و دکمه محاسبه را بزنید.</p>
    <label>بردار (x , y): </label>
    <input id="xInput" type="number" step="any" placeholder="x">
    <input id="yInput" type="number" step="any" placeholder="y">
    <label>عدد ضربی: </label>
    <input id="scalarInput" type="number" step="any" placeholder="k">
    <button onclick="calculate()">محاسبه</button>
    <div id="result"></div>
  </div>
<script>
const canvas = document.getElementById("vectorCanvas");
const ctx = canvas.getContext("2d");

function drawGrid() {
  const step = 25;
  const width = canvas.width;
  const height = canvas.height;
  ctx.clearRect(0, 0, width, height);
  ctx.strokeStyle = "#ddd";
  for (let x = 0; x <= width; x += step) {
    ctx.beginPath();
    ctx.moveTo(x, 0);
    ctx.lineTo(x, height);
    ctx.stroke();
  }
  for (let y = 0; y <= height; y += step) {
    ctx.beginPath();
    ctx.moveTo(0, y);
    ctx.lineTo(width, y);
    ctx.stroke();
  }
  ctx.strokeStyle = "#000";
  ctx.beginPath();
  ctx.moveTo(width / 2, 0);
  ctx.lineTo(width / 2, height);
  ctx.moveTo(0, height / 2);
  ctx.lineTo(width, height / 2);
  ctx.stroke();
}

function drawArrowHead(x, y, angle, color) {
    ctx.fillStyle = color;
    const size = 22; // نوک فلش بزرگتر
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.lineTo(x - size * Math.cos(angle - Math.PI / 7), y - size * Math.sin(angle - Math.PI / 7));
    ctx.lineTo(x - size * Math.cos(angle + Math.PI / 7), y - size * Math.sin(angle + Math.PI / 7));
    ctx.closePath();
    ctx.fill();
}

function drawVector(x, y, color, name) {
  const originX = canvas.width / 2;
  const originY = canvas.height / 2;
  const scale = 25;
  const endX = originX + x * scale;
  const endY = originY - y * scale;
  ctx.strokeStyle = color;
  ctx.lineWidth = 3;
  ctx.beginPath();
  ctx.moveTo(originX, originY);
  ctx.lineTo(endX, endY);
  ctx.stroke();
  drawArrowHead(endX, endY, Math.atan2(originY - endY, endX - originX), color);
  ctx.fillStyle = color;
  ctx.font = "bold 18px Vazir";
  ctx.fillText(name + " = (" + x + ", " + y + ")", 20, 30 + (color === "red" ? 30 : 0));
}

function calculate() {
  const x = parseFloat(document.getElementById("xInput").value);
  const y = parseFloat(document.getElementById("yInput").value);
  const k = parseFloat(document.getElementById("scalarInput").value);
  if (isNaN(x) || isNaN(y) || isNaN(k)) return;
  const newX = k * x;
  const newY = k * y;
  drawGrid();
  drawVector(x, y, "blue", "A");
  drawVector(newX, newY, "red", k + "A");
  document.getElementById("result").textContent = "نتیجه: (" + newX.toFixed(2) + ", " + newY.toFixed(2) + ")";
}

drawGrid();
</script>
</body>
</html>
